<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<!-- namespace속성: 반드시 정의를 하자 -->
<!-- 설정된 패키지명.인터페이스명은 실제 정의된 CalMapper인터페이스의 경로임 -->
<mapper namespace="com.hk.board.mapper.CalMapper">

	<!-- 메서드명과 ID명이 일치해야 함 -->
 	<insert id="insertCalBoard" parameterType="CalDto">
 		INSERT INTO CALBOARD
 		VALUES(NULL,#{id},#{title},#{content},#{mdate},SYSDATE())
 	</insert>
 	
 	<select id="calBoardList" parameterType="Map" 
 							  resultType="CalDto">
 		SELECT SEQ, ID, TITLE, CONTENT,MDATE,REGDATE
 		FROM CALBOARD
 		WHERE ID=#{id}
 		AND SUBSTRING(MDATE,1,8) = #{yyyyMMdd}
 	</select>
 	
 	<delete id="calMulDel" parameterType="Map">
 		DELETE FROM CALBOARD WHERE SEQ IN
 		<foreach collection="seqs" item="seq"
 		         open="(" close=")" separator=",">
 			#{seq}         
 		</foreach>
 	</delete>

	<select id="calBoardDetail" parameterType="Integer"
	        resultType="CalDto">
		SELECT SEQ, ID ,TITLE,CONTENT, MDATE, REGDATE
		FROM CALBOARD
		WHERE SEQ = #{seq}        
	</select>
</mapper>








