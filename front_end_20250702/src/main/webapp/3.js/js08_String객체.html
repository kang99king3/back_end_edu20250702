<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>js08_String객체.html</title>
<style type="text/css">
	#calculator{
		width:270px;
	}
	#calculator #view{
		width:95%;
	}
	#calculator input[type=button]{
		width:50px;
		height:50px;
		margin: 2px;
	}
	#calculator input[type=button]:hover{
		background-color:orange;
	}
</style>
<script type="text/javascript">
	function strTest01(){
		//리터럴 방식
		let string01="String";
		let string02="Test";
		
		// + 연산자를 이용해서 문자열 합치기
		let string03=string01+string02;
		
		//concat():여러 문자열을 합칠때 사용
		var newString="String".concat("test","java","script");
		console.log(string03,newString);
		document.querySelectorAll(".result")[0]
		                 .textContent=newString;
	}
	
	function strTest02(){
		// 동등연산자 ==(일전적인 비교), ===(엄격한 비교)
		//,패턴으로 비교 match()(정규화 표현식)
		
		//동등연산자: ===
		var numVal=10;// 숫자형
		if(numVal=="10"){ // 비교할때 자동 형변환되서 비교를 한다.
			console.log("==연산자사용: 숫자10이 맞습니다.");
		}
		
		if(numVal==="10"){// 타입이 다르면 다르다고 비교해야 함.
			console.log("===연산자사용: 숫자10이 맞습니다.");
		}else{
			console.log("===연산자사용: 숫자10이 아닙니다..");
		}
		
		//객체와 비교(String)
		let strLit="한경";
		let strObj=new String("한경");//new 객체 정의
		
		if(strLit==strObj){
			console.log("==연산자사용: 같다");
		}
		
		if(strLit===strObj){
			console.log("==연산자사용: 같다");
		}else{
			console.log("===연산자사용: 다르다");
		}
		
		// match 함수사용
		let strVal=prompt("당신의 이름은?","");
		// isNaN() 함수: 숫자인지 판단하는 함수
		if(strVal.match(/[0-9]/)){
			alert("숫자가 포함되어 있어요!! 확인해주세요");
		}else{
			if(strVal=="한경"){
				console.log("한경이 맞습니다.");
				document.querySelectorAll(".result")[1]
								.innerHTML="<b>"+strVal+"이 맞습니다.</b>";
			}else{
				console.log("한경이 아닙니다.");
				document.querySelectorAll(".result")[1]
								.innerHTML=`<b>${strVal}이 아닙니다.</b>`;
			}
		}
	}
	//  <p class="result">
	// 	  <span id="re1"></span>
	// 	  <span id="re2"></span>
	// 	</p>
	function strTest03(){
		//"indexOf()메서드"  "substring()메서드"를 각각 추출해서 
		let strVal="문자열 추출하기. 관련 메서드:indexOf()메서드, substring()메서드.";
		let sIdx=strVal.indexOf(":");
		let eIdx=strVal.lastIndexOf(".");
		let result=strVal.substring(sIdx+1,eIdx);//"indexOf()메서드, substring()메서드"
		let splitVal=result.split(",");//["indexOf()메서드"," substring()메서드"]
		console.log(splitVal.toString());
		let strVal01=splitVal[0].trim();//trim():앞뒤공백제거
		let strVal02=splitVal[1].trim();
		console.log(strVal02.length);
		document.querySelector("#re1").textContent=strVal01;
		document.querySelector("#re2").textContent=strVal02;
	}
	
	let count=10;//전역변수
	function strTest04(){
		//문제: 입력 키워드 최대 6개로 제한
		//입력된 문자열 각각의 키워드를 추출해서 <span>요소에 출력하세요
		//출력하는 형식: 
	    //"<br>키워드:수박<br/>키워드:바나나<br/>키워드:사과" -->span요소에 출력
	    let prop=prompt("쉼표로 구분하여 키워드를 입력하세요","예)수박,바나나,사과");
	    //split()을 이용해서 추출하기
		let props=prop.split(",");//배열로 저장한다.["수박","바나나","사과"....]
		console.log(props);
		if(props.length > count){
			alert(`${count}개까지만 입력 가능합니다.`);
		}else{
			//split의 결과 배열을 통해 각각 키워드 꺼내서 해당 문자열 형식 만들고
			let result="";
			for (let i = 0; i < props.length; i++) {
				result+="<br>키워드:"+props[i];  //--> for문을 이용한다면??
			}
			
			//DOM탐색해서, 만든 문자열 출력하면 아주 쉽게 구현할 수 있어요 
			document.querySelectorAll("#key")[0].innerHTML=result;
		}
	}
	
	//입력 키워드 개수를 제한하는 기능 구현
	// 10개 제한 -> 개수를 저장하는 변수선언(전역변수? 지역변수?)
	function numCount(){
		// count변수에 제한 개수(숫자입력박스값)를 저장
		// ele.value : get 개념,  ele.value="text" : set 개념
		count=document.querySelectorAll("#num")[0].value;
		// 설정했다는 표시--> 버튼의 폰트색을 red 설정
	    document.querySelectorAll("fieldset > button")[0].style.color="red";
		document.querySelectorAll("#num")[0].disabled="disabled";//비활성화
	}
	
	//계산기 기능 구현하기: OS제공 계산기 참고 
	//               -> 사칙연산, 클리어, 백스페이스(하나씩 지우기)
	//               -> eval()함수 활용 : eval("5+10")
	//                input onclick="cal(this.value)" -> ele.value 입력된 값 얻어오기
</script>
</head>
<body>
<h1>String 객체의 사용</h1>
<h2>문자열 합치기<button onclick="strTest01()">확인</button> </h2>
<p class="result"></p>
<h2>문자열 비교하기<button onclick="strTest02()">확인</button> </h2>
<p class="result"></p>
<h2>문자열 검색하기: indexOf()/lastIndexOf():일치하는 단어(해당인덱스반환)
										  일치하는 단어X(-1을 반환)
</h2>
<h2>문자열 추출하기: substring()-문자열 시작인덱스~종료인덱스
	split()-문자열에 토큰으로 나눠서 배열로 반환("a,b,c,d"->[a,b,c,d])
	<button onclick="strTest03()">확인</button>
</h2>
<p class="result"><span id="re1"></span><br/><span id="re2"></span></p>

<hr/>
<h2>키워드 나누기<button onclick="strTest04()">클릭</button></h2>
<span id="key">
	
</span>
<hr>
<fieldset>
	<label>최대입력수:</label>
	<input type="number" id="num" min="1"  />
	<button onclick="numCount()">설정</button>
	<br/>
	<small>사용자가 최대입력수를 입력하고 설정버튼을 클릭하면 적용:
		   설정버튼의 폰트색을 red로 변경</small>
</fieldset>
<hr/>
<h1>계산기 구현하기</h1>
<div id="calculator">
	<fieldset>
		<input id="view" value="" readonly="readonly" />
	</fieldset>
	<fieldset>
		<div>
			<input type="button" value="C" onclick="cal(this.value)"/>
			<input type="button" value="←" onclick="cal(this.value)"/>
			<input type="button" value="=" onclick="cal(this.value)"/>
			<input type="button" value="/" onclick="cal(this.value)"/>
		</div>
		<div>
			<input type="button" value="7" onclick="cal(this.value)"/>
			<input type="button" value="8" onclick="cal(this.value)"/>
			<input type="button" value="9" onclick="cal(this.value)"/>
			<input type="button" value="*" onclick="cal(this.value)"/>
		</div>
		<div>
			<input type="button" value="4" onclick="cal(this.value)"/>
			<input type="button" value="5" onclick="cal(this.value)"/>
			<input type="button" value="6" onclick="cal(this.value)"/>
			<input type="button" value="-" onclick="cal(this.value)"/>
		</div>
		<div>
			<input type="button" value="1" onclick="cal(this.value)"/>
			<input type="button" value="2" onclick="cal(this.value)"/>
			<input type="button" value="3" onclick="cal(this.value)"/>
			<input type="button" value="+" onclick="cal(this.value)"/>
		</div>
		<div>
			<input type="button" value="★"/>
			<input type="button" value="0" onclick="cal(this.value)"/>
			<input type="button" value="★"/>
			<input type="button" value="★"/>
		</div>
	</fieldset>
</div>
<script type="text/javascript">

	function cal(btn_val){
// 		console.log(btn_val);
		let view=document.querySelector("#view");
		
		if(btn_val=="="){
			view.value=eval(view.value);
		}else if(btn_val=="←"){
			// "abcdef".substring(0,5)
			// "abcde".substring(0,3)
			view.value=view.value.substring(0,view.value.length-1);
		}else if(btn_val=="C"){
			view.value="";
		}else{
			view.value+=btn_val;	
		}
	}
</script>
</body>
</html>








